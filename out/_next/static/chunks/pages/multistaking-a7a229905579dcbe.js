(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{48410:function(e,t,n){"use strict";var i=n(59499),r=n(4730),l=n(36325),o=n(67294),a=n(85893);const s=["value","onUserInput","placeholder","className"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=RegExp("^\\d*(?:\\\\[.])?\\d*$"),m="w-0 p-0 text-2xl bg-transparent",h=o.memo((e=>{let{value:t,onUserInput:n,placeholder:i,className:o=m}=e,c=(0,r.Z)(e,s);return(0,a.jsx)("input",d(d({},c),{},{value:t,onChange:e=>{var t;(""===(t=e.target.value.replace(/,/g,"."))||u.test((0,l.hr)(t)))&&n(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:i||"0.0",min:0,minLength:1,maxLength:79,spellCheck:"false",className:(0,l.AK)("relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",o)}))}));h.displayName="NumericalInput",t.Z=h},64958:function(e,t,n){"use strict";var i=n(59499),r=n(4730),l=n(41664),o=n(11163),a=n(67294),s=n(85893);const c=["children","exact","activeClassName"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=e=>{let{children:t,exact:n=!1,activeClassName:i="text-high-emphesis"}=e,d=(0,r.Z)(e,c);const{asPath:m,pathname:h,route:x,query:f,basePath:v}=(0,o.useRouter)(),p=a.Children.only(t),g=p.props.className||"",b=(n?(d.as||d.href.pathname||d.href)===m:m.startsWith(d.as||d.href.pathname||d.href))?"".concat(g," ").concat(i).trim():g;return(0,s.jsx)(l.default,u(u({href:d.href},d),{},{children:a.cloneElement(p,{className:b||null})}))}},573:function(e,t,n){"use strict";var i=n(85460),r=n(36325),l=n(85893);const o={default:e=>"bg-high-emphesis",gradient:e=>e?"bg-gradient-to-r from-blue to-pink":"bg-dark-700"},a={xs:20,sm:28,md:36},s={xs:53,sm:57,md:65};t.Z=({size:e="md",checked:t,onChange:n,checkedIcon:c="",uncheckedIcon:d="",color:u="default",id:m=""})=>{const h=a[e],x=s[e];return(0,l.jsx)(i.r,{checked:t,onChange:n,className:(0,r.AK)("flex items-center bg-dark-800 border border-dark-700 relative inline-flex flex-shrink-0 rounded-full cursor-pointer ease-in-out duration-200 ".concat(m)),style:{height:h,width:x},children:(0,l.jsx)("span",{id:m,className:(0,r.AK)(t?"translate-x-[30px]":"translate-x-[2px]",o[u](t),"transition-colors transition-transform pointer-events-none p-1 rounded-full shadow-md ease-in-out duration-200 inline-flex items-center justify-center"),style:{height:h-6,width:h-6,transform:"translate(".concat(t?30:2,", 0)")},children:t?c:d})})}},87433:function(e,t,n){"use strict";var i=n(85169),r=n(71923),l=n(63929),o=n(64958),a=n(56785),s=n(87269),c=n(10552),d=n(90662),u=n(12614),m=n(49552),h=n.n(m),x=n(25675),f=n(67294),v=n(85893);const p=({children:e,feature:t})=>{const{i18n:n}=(0,i.mV)(),{chainId:m,library:p,account:g}=(0,u.a)(),b=(0,v.jsx)(o.Z,{href:"/swap",children:(0,v.jsx)("a",{className:"text-blue focus:outline-none",children:n._(n._("home page"))})}),N=Object.entries(s.Z).reduce(((e,[n,i])=>(i.includes(t)&&e.push(n),e)),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z.Controlled,{isOpen:!!g&&!s.Z[m].includes(t),onDismiss:()=>null,transparent:!0,children:(0,v.jsxs)("div",{className:"flex flex-col justify-center p-4 mt-10 gap-7 lg:mt-0",children:[(0,v.jsx)(a.Z,{variant:"h1",className:"max-w-2xl text-center text-white",weight:700,children:n._(n._("Roll it back - this feature is not yet supported on {0}.",{0:c.z[m]}))}),(0,v.jsx)(a.Z,{className:"text-center",children:(0,v.jsx)(i.cC,{id:"Either return to the {link}, or change to an available network.",values:{link:b},components:f.Fragment})}),(0,v.jsx)(a.Z,{className:"uppercase text-white text-center text-lg tracking-[.2rem]",weight:700,children:n._(n._("Available Networks"))}),(0,v.jsx)("div",{className:"flex justify-center gap-5 md:gap-10",children:N.map(((e,t)=>(0,v.jsxs)("button",{className:"flex flex-col items-center justify-start gap-2 text-primary hover:text-white",onClick:()=>{const t=d.b[e];h().set("chainId",e),e===r.a_.ETHEREUM.toString()?null===p||void 0===p||p.send("wallet_switchEthereumChain",[{chainId:"0x1"},g]):e===r.a_.KOVAN.toString()?null===p||void 0===p||p.send("wallet_switchEthereumChain",[{chainId:"0x2A"},g]):null===p||void 0===p||p.send("wallet_addEthereumChain",[t,g])},children:[(0,v.jsx)("div",{className:"w-[40px] h-[40px]",children:(0,v.jsx)(x.default,{src:c.w[e],alt:"Switch Network",className:"rounded-md filter drop-shadow-currencyLogo",width:"40px",height:"40px"})}),(0,v.jsx)(a.Z,{className:"text-sm",children:c.z[e]})]},t)))})]})}),e]})};t.Z=e=>({children:t})=>(0,v.jsx)(p,{feature:e,children:t})},83304:function(e,t,n){"use strict";n.d(t,{UK:function(){return i.UK},qL:function(){return i.qL},x7:function(){return u},rO:function(){return d.rO},HW:function(){return d.HW},mX:function(){return d.mX},cq:function(){return d.cq},MQ:function(){return d.MQ},JY:function(){return d.JY},wq:function(){return d.wq},mi:function(){return d.mi},ou:function(){return d.ou},JE:function(){return d.JE},Ib:function(){return d.Ib},i7:function(){return d.i7},sL:function(){return d.sL},oF:function(){return m.ZP},lz:function(){return d.lz}});var i=n(27262),r=n(19485),l=n(9279),o=n(71923),a=n(12614),s=n(68411),c=n(67294),d=n(85926);var u=function(){const{account:e,chainId:t}=(0,a.a)(),n=(0,s.h7)(),i=(0,d.rO)();return{deposit:(0,c.useCallback)((async(a,s)=>{if(s&&t)try{const c=(0,r.Kn)(a);if(c===o.df[t]){const t=await(null===i||void 0===i?void 0:i.deposit(l.d,e,e,s,0,{value:s}));return n(t,{summary:"Deposit to Bentobox"})}{const t=await(null===i||void 0===i?void 0:i.deposit(c,e,e,s,0));return n(t,{summary:"Deposit to Bentobox"})}}catch(c){return console.error("bentobox deposit error:",c),c}}),[e,n,i,t]),withdraw:(0,c.useCallback)((async(l,a,s)=>{if(a&&t)try{const c=(0,r.Kn)(l),d=await(null===i||void 0===i?void 0:i.withdraw(c===o.df[t]?"0x0000000000000000000000000000000000000000":c,e,e,a,s?s.toString():0));return n(d,{summary:"Withdraw from Bentobox"})}catch(c){return console.error("bentobox withdraw error:",c),c}}),[e,n,i,t]),harvest:(0,c.useCallback)((async(e,r=!1)=>{if(t)try{const t=await(null===i||void 0===i?void 0:i.harvest(e,r,0));return n(t,{summary:r?"Harvest & Rebalance":"Harvest"})}catch(l){return console.error("bentobox harvest error:",l),l}}),[])}};n(89638),n(37601);n(82766),n(76294),n(80113);var m=n(90573)},82766:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var i=n(71923),r=(n(93036),n(1082)),l=n.n(r),o=n(83852),a=n(67294),s=n(75438);function c(e){const{0:t,1:n}=(0,a.useState)("#0094ec");return(0,a.useLayoutEffect)((()=>{let t=!1;return e&&async function(e){if(e.chainId===i.a_.RINKEBY&&"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735"===e.address)return Promise.resolve("#FAAB14");const t="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/".concat(e.address,"/logo.png");return l().from(t).getPalette().then((e=>{if(null!==e&&void 0!==e&&e.Vibrant){let t=e.Vibrant.hex,n=(0,s.$v)(t,"#FFF");for(;n<3;)t=(0,o.wj)(.005,t),n=(0,s.$v)(t,"#FFF");return t}return null})).catch((()=>null))}(e).then((e=>{t||null===e||n(e)})),()=>{t=!0,n("#0094ec")}}),[e]),t}},76294:function(e,t,n){"use strict";var i=n(59499),r=n(74221),l=n(67294);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}t.Z=function({data:e,options:t}){const{0:n,1:a}=(0,l.useState)(""),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return{result:function({fuse:e,data:t,term:n}){const i=e.search(n);return n?i.map((e=>e.item)):t}({fuse:new r.Z(e||[],s),data:e,term:n}),search:a,term:n,reset:()=>a("")}}},55168:function(e,t,n){"use strict";n.d(t,{oy:function(){return c},zt:function(){return d}});var i=n(71923),r=n(62793),l=n(1569),o=n(68411),a=n(67294),s=n(85926);function c(){var e;const t=(0,s.JT)(),n=null===(e=(0,l.Wk)(t,"LPEnalbe"))||void 0===e?void 0:e.result;return null===n||void 0===n?void 0:n[0]}function d(){var e,t,n,o,c;const d=(0,s.JT)(),u=null===(e=(0,l.Wk)(d,"nexusDiffuserTotalAmount"))||void 0===e?void 0:e.result,m=null===u||void 0===u?void 0:u[0],h=m?i.QA.BigInt(m.toString()):void 0,x=null===(t=(0,l.Wk)(d,"nexusTreasuryTotalAmount"))||void 0===t?void 0:t.result,f=null===x||void 0===x?void 0:x[0],v=f?i.QA.BigInt(f.toString()):void 0,p=null===(n=(0,l.Wk)(d,"nexusBurnTotalAmount"))||void 0===n?void 0:n.result,g=null===p||void 0===p?void 0:p[0],b=g?i.QA.BigInt(g.toString()):void 0,N=null===(o=(0,l.Wk)(d,"nexusTotalAmount"))||void 0===o?void 0:o.result,w=null===N||void 0===N?void 0:N[0],j=w?i.QA.BigInt(w.toString()):void 0,y=null===(c=(0,l.Wk)(d,"nexusBurnerTotalAmount"))||void 0===c?void 0:c.result,k=null===y||void 0===y?void 0:y[0],S=k?i.QA.BigInt(k.toString()):void 0;return(0,a.useMemo)((()=>{if(h&&v&&b&&j&&S){const e=i.ih.fromRawAmount(r.bc,h),t=i.ih.fromRawAmount(r.bc,v),n=i.ih.fromRawAmount(r.bc,b),l=i.ih.fromRawAmount(r.bc,j);return[e,t,n,i.ih.fromRawAmount(r.bc,S),l]}return[void 0,void 0,void 0,void 0,void 0]}),[h,v,b,j,S])}t.ZP=()=>{const e=(0,o.h7)(),t=(0,s.JT)();return{convert:(0,a.useCallback)((async()=>{try{const n=await(null===t||void 0===t?void 0:t.LPConvert());return e(n,{summary:"Convert LPs To NEXUS"})}catch(n){return n}}),[e,t])}}},80113:function(e,t,n){"use strict";var i=n(2593),r=n(67294);function l(e,t,n="."){try{return t.replace("[",n).replace("]","").split(n).reduce(((e,t)=>e[t]),e)}catch(i){return}}t.Z=(e,t=null)=>{const{0:n,1:o}=(0,r.useState)(t);return{items:(0,r.useMemo)((()=>{if(e&&e.length>0){const t=[...e];return null!==n&&t.sort(((e,t)=>{const r=l(e,n.key),o=l(t,n.key);if(r instanceof i.O$&&o instanceof i.O$){if(r.lt(o))return"ascending"===n.direction?-1:1;if(r.gt(o))return"ascending"===n.direction?1:-1}else{if(r===1/0)return"ascending"===n.direction?-1:1;if(o===1/0)return"ascending"===n.direction?1:-1;if(r<o)return"ascending"===n.direction?-1:1;if(r>o)return"ascending"===n.direction?1:-1}return 0})),t}return[]}),[e,n]),requestSort:(e,t="ascending")=>{n&&n.key===e&&"ascending"===n.direction?t="descending":n&&n.key===e&&"descending"===n.direction&&(t="ascending"),o({key:e,direction:t})},sortConfig:n}}},63067:function(e,t,n){"use strict";n.r(t);var i=n(67294),r=n(13791),l=n(85893);t.default=({text:e,time:t,hidden:n=!1})=>{var o=Date.now();const a=(0,i.useMemo)((()=>t&&1e3*t>o?1e3*t-o:0),[o,t]),[s,{start:c,pause:d,resume:u,reset:m}]=(0,r.Z)(a),h=(e=>{if(0===e||isNaN(e))return"";const t=new Date(Math.round(e)),n=null===t||void 0===t?void 0:t.toISOString().substring(11,19),i=Math.floor(e/1e3/3600/24);return String(i)+" days :"+n})(s);return(0,i.useEffect)((()=>{a&&c&&c(a)}),[a,c]),n?null:(0,l.jsxs)("div",{className:"text-lg font-normal text-left text-primary",children:[e,(0,l.jsx)("span",{className:"ml-1 font-medium text-white",children:0===s?"Now":h})]})}},90415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p},getDateStringFromSeconds:function(){return v}});var i=n(71923),r=n(71862),l=n(62793),o=n(16682),a=n(1569),s=n(68411),c=n(67294),d=n(85926);var u=n(12614),m=n(98950),h=n(13791),x=n(36762),f=n(85893);const v=e=>{if(0===e||isNaN(e))return"";let t=Number(e/1e3);const n=Math.floor(e/1e3/3600/24);var i=Math.floor((t-3600*n*24)/3600),r=Math.floor(t%3600/60),l=Math.floor(t%3600%60);return(n>0?n+"d ":"")+((i>0?i+"h ":"")+(r>0?r+"m ":"")+(l>0?l+"s":""))};var p=()=>{var e=Date.now();const t=function(){var e;const t=(0,d.wF)(),n=null===(e=(0,a.Wk)(t,"nextDistribution"))||void 0===e?void 0:e.result,i=null===n||void 0===n?void 0:n[0];return i?i.toNumber():0}(),n=(0,c.useMemo)((()=>t&&1e3*t>e?1e3*t-e:0),[e,t]),[p,{start:g,pause:b,resume:N,reset:w}]=(0,h.Z)(n),j=(0,c.useMemo)((()=>!(!t||0!==n)),[t,n]),y=v(p);(0,c.useEffect)((()=>{n&&g&&g(n)}),[n,g]);const{0:k,1:S}=(0,c.useState)(!1),{account:A,chainId:E}=(0,u.a)(),{distribute:T}=(()=>{const e=(0,s.h7)(),t=(0,d.wF)();return{distribute:(0,c.useCallback)((async()=>{try{const n=await(null===t||void 0===t?void 0:t.distribute());return e(n,{summary:"distribute pro"})}catch(n){return n}}),[e,t])}})(),P=(0,m.mM)(o.yK,l.bc);return(0,f.jsxs)("div",{className:"flex flex-row items-center mt-3 space-x-2 text-lg font-normal text-left text-primary",children:[(0,f.jsx)("div",{children:(0,f.jsx)(r.ZP,{size:"sm",className:"p-6",color:"blue",onClick:async()=>{if(A){S(!0);if(!(await(async e=>{let t=!0;try{const n=await e();null!==n&&void 0!==n&&n.error&&(t=!1)}catch(n){console.error(n),t=!1}return t})((()=>T()))))return void S(!1);S(!1)}},disabled:k||(null===P||void 0===P?void 0:P.equalTo(i.xE))||!j,children:(0,f.jsx)("img",{src:x.Z.src,alt:"NEXUS",width:40,height:40})})}),(0,f.jsxs)("div",{className:"flex flex-col text-base",children:[(0,f.jsxs)("div",{children:["NEXUS LEFT: ",(0,f.jsx)("span",{children:null===P||void 0===P?void 0:P.toSignificant(6)})]}),(0,f.jsxs)("div",{children:["NEXT DIST:"," ",(0,f.jsx)("span",{className:"ml-1 font-medium text-white",children:0===p?"Now":y})]})]})]})}},82060:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var i=n(81793),r=n(71923),l=n(71862),o=n(72457),a=n(2593),s=n(63153),c=n(74337),d=n(54962),u=n(62793),m=n(16682),h=n(36325),x=n(83304),f=n(12614),v=n(1569),p=n(68411),g=n(9669),b=n.n(g),N=n(67294),w=n(62483),j=n(85926);const y=async e=>{const t="https://ethereals.fra1.cdn.digitaloceanspaces.com/metadata/".concat(e,".json");return(await b().get(t)).data};const k=()=>{const e=(0,p.h7)(),t=(0,j.hX)(),n=(0,N.useCallback)((async(n,i)=>{try{const r=await(null===t||void 0===t?void 0:t.deposit(n,i));return e(r,{summary:"Deposit In MultiStaking"})}catch(r){return r}}),[e,t]),i=(0,N.useCallback)((async()=>{try{const n=await(null===t||void 0===t?void 0:t.harvest());return e(n,{summary:"Harvest From MultiStaking"})}catch(n){return n}}),[e,t]),r=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.withdraw(n));return e(i,{summary:"Withdraw From MultiStaking"})}catch(i){return i}}),[e,t]),l=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.increaseLockAmount(n));return e(i,{summary:"Increase Lock Amount"})}catch(i){return i}}),[e,t]),o=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.NFTStake(n));return e(i,{summary:"Stake Nexus NFT"})}catch(i){return i}}),[e,t]),a=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.NFTWithdraw(n));return e(i,{summary:"Withdraw Nexus NFT"})}catch(i){return i}}),[e,t]),s=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.batchNFTStake(n));return e(i,{summary:"Stake Nexus NFT"})}catch(i){return i}}),[e,t]),c=(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.batchNFTWithdraw(n));return e(i,{summary:"Withdraw Nexus NFT"})}catch(i){return i}}),[e,t]);return{deposit:n,withdraw:r,harvest:i,oracleNFTStake:o,oracleNFTWithdraw:a,extendLockMode:(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.extendLockTime(n));return e(i,{summary:"Extend Lock Time"})}catch(i){return i}}),[e,t]),increaseLockAmount:l,oracleMultiNFTStake:s,oracleMultiNFTWithdraw:c,shortenLockMode:(0,N.useCallback)((async n=>{try{const i=await(null===t||void 0===t?void 0:t.shortenLockTime(n));return e(i,{summary:"Shorten Lock Time"})}catch(i){return i}}),[e,t])}};function S(){var e;const{account:t}=(0,f.a)(),n=(0,j.hX)(),i=(0,N.useMemo)((()=>{if(t)return[String(t)]}),[t]),l=null===(e=(0,v.Wk)(i?n:null,"userLocks",i))||void 0===e?void 0:e.result,o=null===l||void 0===l?void 0:l.lockMode,a=null===l||void 0===l?void 0:l.lockedAmount,s=null===l||void 0===l?void 0:l.nftWeight,c=null===l||void 0===l?void 0:l.totalWeight,d=null===l||void 0===l?void 0:l.unlockTime,m=null===l||void 0===l?void 0:l.nexusLock,h=o?o.toNumber():void 0,x=d?d.toNumber():void 0,p=a?r.QA.BigInt(a.toString()):void 0,g=p?r.ih.fromRawAmount(u.bc,p):void 0,b=s?r.QA.BigInt(s.toString()):void 0,w=b?r.ih.fromRawAmount(u.bc,b):void 0,y=c?r.QA.BigInt(c.toString()):void 0,k=y?r.ih.fromRawAmount(u.bc,y):void 0,S=m?r.QA.BigInt(m.toString()):void 0;return{lockMode:h,unlockTime:x,lockedProAmount:g,userNFTWeight:w,userTotalWeight:k,lockXOracle:S?r.ih.fromRawAmount(u.bc,S):void 0}}function A(){var e;const t=(0,j.hX)(),n=null===(e=(0,v.Wk)(t,"minNexusAmount"))||void 0===e?void 0:e.result,i=null===n||void 0===n?void 0:n[0],l=i?r.QA.BigInt(i.toString()):void 0;return l?r.ih.fromRawAmount(u.bc,l):void 0}function E(){var e;const t=(0,j.hX)(),n=null===(e=(0,v.Wk)(t,"minNexusCollateralAmount"))||void 0===e?void 0:e.result,i=null===n||void 0===n?void 0:n[0],l=i?r.QA.BigInt(i.toString()):void 0;return l?r.ih.fromRawAmount(u.bc,l):void 0}var T=n(98950),P=n(96486),_=n(63067),O=n(36762),C=n(13155),U=n(8547),F=n(97436),L=n(70028),M=n(573),X=n(56785),W=n(63192),R=n(75851),Z=n(85893);n(30381);const I=async e=>{let t=!0;try{const n=await e();null!==n&&void 0!==n&&n.error&&(t=!1)}catch(n){console.error(n),t=!1}return t},D=({totalPoolSize:e})=>{var t;const{0:n,1:o}=(0,N.useState)(!0),{0:p,1:g}=(0,N.useState)(),{0:b,1:y}=(0,N.useState)();const{account:D,chainId:B}=(0,f.a)(),K=u.bc,Q=(0,T.mM)(null!==D&&void 0!==D?D:void 0,K),{0:q,1:z}=(0,N.useState)(0),{lockMode:V,unlockTime:G,lockedProAmount:Y,userNFTWeight:H,userTotalWeight:J,lockXOracle:$}=S(),ee=A(),te=(0,N.useMemo)((()=>!ee||!Y||ee.subtract(Y).greaterThan(r.xE)),[ee,Y]),ne=E(),ie=function(){var e;const{account:t,chainId:n}=(0,f.a)(),i=(0,j.hX)(),r=(0,N.useMemo)((()=>{if(t)return[String(t)]}),[t]),l=null===(e=(0,v.Wk)(r?i:null,"userStakedNFTCount",r))||void 0===e?void 0:e.result,o=null===l||void 0===l?void 0:l[0];return o?o.toNumber():0}(),re=(0,h.eo)(p,K),le=(0,h.eo)(b,K),[oe,ae]=(0,x.qL)(re,m.Ej),se=(0,N.useMemo)((()=>!(ee&&re&&Y)||ee.add(null===re||void 0===re?void 0:re.divide(100)).subtract(re).subtract(Y).greaterThan(r.xE)),[ee,re,Y]),ce=re?null!==Q&&void 0!==Q&&Q.lessThan(re)?"Insufficient balance":ie>0&&q>0&&se?"More PRO Required for NFT Staking":void 0:"Enter an amount",de=!ce,ue=le?null!==Y&&void 0!==Y&&Y.lessThan(le)?"Insufficient balance":void 0:"Enter an amount",me=!ue,{deposit:he,withdraw:xe,harvest:fe,increaseLockAmount:ve,extendLockMode:pe,shortenLockMode:ge}=k(),{0:be,1:Ne}=(0,N.useState)(!1),we=(0,N.useMemo)((()=>!(!Y||!Y.greaterThan(r.xE))),[Y]),je=we?i.ag._(i.ag._("Increase Deposit")):i.ag._(i.ag._("Confirm Deposit"));var ye=Date.now();const ke=(0,N.useMemo)((()=>!(V>0&&G)||!(1e3*G>ye)),[ye,G,V]);(0,N.useEffect)((()=>{z(V)}),[V]);const Se=function(){var e;const{account:t,chainId:n}=(0,f.a)(),i=(0,j.hX)(),l=(0,N.useMemo)((()=>{if(t)return[String(t)]}),[t]),o=null===(e=(0,v.Wk)(l?i:null,"pendingRewards",l))||void 0===e?void 0:e.result,a=null===o||void 0===o?void 0:o.rewards,s=(0,w.e_)();return(0,N.useMemo)((()=>{if(!a)return[];let e=[];return a.map((t=>{const n=new r.WU(r.a_.XRPL,t.token,18,"NLP","NEXUSSwap LP Token");let i=s[t.token]||n;"0x0000000000000000000000000000000000000000"==t.token&&(i=new r.WU(r.a_.XRPL,t.token,18,"XRP","XRP"));const l=t.amount?r.QA.BigInt(t.amount.toString()):void 0,o=i&&l?r.ih.fromRawAmount(i,l):void 0;o&&o.greaterThan(r.xE)&&e.push({token:i,amount:o})})),e}),[a,s])}(),Ae=function(){var e;const{account:t,chainId:n}=(0,f.a)(),i=(0,j.hX)(),l=(0,N.useMemo)((()=>{if(t)return[String(t)]}),[t]),o=null===(e=(0,v.Wk)(l?i:null,"distributedUserTotalReward",l))||void 0===e?void 0:e.result,a=null===o||void 0===o?void 0:o.rewards,s=(0,w.e_)();return(0,N.useMemo)((()=>{if(!a)return[];let e=[];return a.map((t=>{const n=new r.WU(r.a_.XRPL,t.token,18,"NLP","NEXUSSwap LP Token");let i=s[t.token]||n;"0x0000000000000000000000000000000000000000"==t.token&&(i=new r.WU(r.a_.XRPL,t.token,18,"XRP","XRP"));const l=t.amount?r.QA.BigInt(t.amount.toString()):void 0,o=i&&l?r.ih.fromRawAmount(i,l):void 0;o&&o.greaterThan(r.xE)&&e.push({token:i,amount:o})})),e}),[a,s])}(),Ee=(0,N.useMemo)((()=>e&&J&&e.greaterThan(r.xE)?parseFloat(J.multiply(100).toSignificant(8))/parseFloat(null===e||void 0===e?void 0:e.toSignificant(8)):0),[e,J]),[Te,Pe]=(0,x.qL)(null===ne||void 0===ne?void 0:ne.multiply(ie),m.Ej),_e=null!==Y&&void 0!==Y&&Y.equalTo(r.xE)?"No Lock to extend":0===V&&te?"More PRO Required to Extend NFT Staking":Te!==x.UK.APPROVED?"xOracle Not Approved":void 0,{0:Oe,1:Ce}=(0,N.useState)(!1);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex flex-wrap mt-4 prophet-staking-wrapper",children:[(0,Z.jsx)("div",{className:"w-full md:w-[calc(100%-316px)] md:mr-4 md:pr-4 rounded-3xl pl-5 pr-5 pb-5 flex flex-col gap-3 p-2 md:pl-4 md:pr-4 md:pb-4 pt-0 rounded-[16px]  bg-opacity-25 shadow-md   border-opacity-50",children:(0,Z.jsxs)(R.RQ,{animate:!0,level:3,corners:4,layer:"primary",children:[(0,Z.jsxs)(L.S.BorderedContent,{className:"flex flex-col gap-4 bg-dark-00/40",children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)(X.Z,{variant:"h3",weight:700,className:"text-high-emphesis",children:n?i.ag._(i.ag._("\ud83c\udf0cNexus Staking")):i.ag._(i.ag._("Nexus Unstake"))}),(0,Z.jsx)(M.Z,{size:"md",checked:n,onChange:()=>o(!n),checkedIcon:(0,Z.jsx)(s.pOD,{className:"text-dark-1000"}),uncheckedIcon:(0,Z.jsx)(s.V_R,{className:"text-dark-1000"})})]}),(0,Z.jsx)(F.Z,{currencyLogo:!1,currency:K,value:n?p:b,onChange:n?g:y,balance:n?Q:Y,showMax:!1})]}),n?(0,Z.jsxs)("div",{className:"flex flex-col w-full gap-1 p-4 stake-wrap",children:[(0,Z.jsx)("div",{className:"self-start text-lg font-bold md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("\ud83c\udf0cSpace-Time\u23f2 Lock\ud83d\udd12"))}),(0,Z.jsxs)("div",{className:"px-2 slider-wrapper",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between mt-2 -mx-2 font-extrabold labels",children:[(0,Z.jsx)("p",{children:"1x"}),(0,Z.jsx)("p",{children:"1.5x"}),(0,Z.jsx)("p",{children:"7x"}),(0,Z.jsx)("p",{children:"15x"}),(0,Z.jsx)("p",{children:"31x"})]}),(0,Z.jsx)(c.ZP,{"aria-labelledby":"track-inverted-slider",getAriaValueText:function(e){return"".concat(e)},defaultValue:V,marks:[{value:0,label:"0"},{value:1,label:"1M"},{value:2,label:"3M"},{value:3,label:"6M"},{value:4,label:"1Y"}],onChange:(e,t,n)=>{(0,P.isArray)(t)?t&&t.length>0&&(ke||t[0]>=V)&&z(t[0]):ke?z(t):we?t>=V&&z(t):(0==t||t>=V)&&z(t)},sx:{color:"light-blue","& .MuiSlider-markLabel":{color:"green",fontWeight:700}},disableSwap:!0,value:q,min:0,max:4,step:1})]})]}):(0,Z.jsxs)("div",{className:"flex flex-col w-full gap-1 p-4 stake-wrap",children:[(0,Z.jsxs)("div",{className:"flex justify-between p-2 rounded-md box-wrapper",children:[(0,Z.jsx)("p",{className:"text-lg font-semibold",children:"TIME-LOCK"}),(0,Z.jsx)("div",{className:"text-lg font-semibold text-red-500",children:(0,Z.jsx)(_.default,{time:G,hidden:!J||(null===J||void 0===J?void 0:J.equalTo(r.xE))})})]}),(0,Z.jsx)("p",{className:"mt-2 font-bold text-red-500",children:"*If you withdraw your NEXU before the time-lock period is over you will forfeit 50% of your staked NEXU/Nexus!"})]}),(0,Z.jsx)("div",{className:"p-4",children:n?D?!de||oe!==x.UK.NOT_APPROVED&&oe!==x.UK.PENDING?(0,Z.jsx)(l.ZP,{fullWidth:!0,color:!de&&re?"red":"blue",onClick:async()=>{if(D&&de){Ne(!0);const e=a.O$.from(null===re||void 0===re?void 0:re.quotient.toString());if(Y&&Y.greaterThan(r.xE)){if(!(await I((()=>ve(e)))))return void Ne(!1)}else{if(!(await I((()=>he(e,q)))))return void Ne(!1)}Ne(!1)}},disabled:!de||be,children:ce||je}):(0,Z.jsx)(l.ZP,{fullWidth:!0,loading:oe===x.UK.PENDING,color:"gradient",onClick:ae,disabled:oe!==x.UK.NOT_APPROVED,children:i.ag._(i.ag._("Approve"))}):(0,Z.jsx)(W.Z,{size:"lg",color:"blue",fullWidth:!0}):D?(0,Z.jsx)(l.ZP,{fullWidth:!0,color:!me&&le?"red":"gradient",onClick:async()=>{if(D&&me)if(ke){Ne(!0);const e=a.O$.from(null===le||void 0===le?void 0:le.quotient.toString());if(!(await I((()=>xe(e)))))return void Ne(!1);Ne(!1)}else Ce(!0)},disabled:!me||be,children:ue||i.ag._(i.ag._("Confirm Withdraw"))}):(0,Z.jsx)(W.Z,{color:"blue",className:"w-full"})}),(0,Z.jsxs)("div",{className:"p-4",children:[q>0&&ie>0&&(Te===x.UK.NOT_APPROVED||Te===x.UK.PENDING)&&(0,Z.jsx)(l.ZP,{fullWidth:!0,className:"mb-2",loading:Te===x.UK.PENDING,color:"gradient",onClick:Pe,disabled:Te!==x.UK.NOT_APPROVED,children:i.ag._(i.ag._("Approve xORACLE FOR NFT Staking"))}),(0,Z.jsx)(l.ZP,{fullWidth:!0,color:"blue",onClick:async()=>{if(D&&q!==V){if(q>V){Ne(!0);if(!(await I((()=>pe(q)))))return void Ne(!1)}else{if(!ke)return;Ne(!0);if(!(await I((()=>ge(q)))))return void Ne(!1)}Ne(!1)}},disabled:be||!D||q===V||q<V&&!ke||!!_e,children:q>=V&&_e?_e:i.ag._(i.ag._("Extend Lock"))})]})]})}),(0,Z.jsxs)("div",{className:"w-full md:w-[300px] flex flex-col",children:[(0,Z.jsx)(R.RQ,{animate:!0,level:3,corners:4,layer:"primary",children:(0,Z.jsxs)("div",{className:"px-5 mt-4 mb-4 balance rounded-3xl py-7 md:mt-0 flex flex-col gap-3 p-2 md:p-4 pt-4 rounded-[16px]  bg-opacity-25 shadow-md",children:[(0,Z.jsx)("div",{className:"self-start text-lg font-bold md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Stake Balance\ud83e\udd69"))}),(0,Z.jsxs)("div",{className:"flex items-center pb-1 balance1",children:[(0,Z.jsx)("img",{src:O.Z.src,width:30,height:30,alt:"Logo"}),(0,Z.jsx)("p",{className:"ml-2",children:"NEXUS: ".concat(Y?Y.toSignificant(6):"")})]}),(0,Z.jsxs)("div",{className:"flex items-center pb-1 balance2",children:[(0,Z.jsx)("img",{src:U.Z.src,width:30,height:30,alt:"Logo"}),(0,Z.jsx)("p",{className:"ml-2",children:"NEXUS NFT: ".concat(ie)})]}),(0,Z.jsxs)("div",{className:"flex items-center pb-1 balance3",children:[(0,Z.jsx)("img",{src:C.Z.src,height:30,width:30,alt:"true"}),(0,Z.jsx)("p",{className:"ml-2",children:"NEXUS Collatoral: ".concat($?$.toSignificant(6):"")})]}),(0,Z.jsxs)("p",{children:["YOUR TOTAL POOL SHARE:",(0,Z.jsx)("br",{})," ",(0,Z.jsxs)("span",{className:"text-blue-300",children:[" ","".concat(J?J.toSignificant(6):""," = ").concat(Ee.toFixed(6),"%")]})]}),(0,Z.jsxs)("div",{children:["TIME LOCK",(0,Z.jsx)("div",{children:(0,Z.jsx)(_.default,{time:G,hidden:!J||(null===J||void 0===J?void 0:J.equalTo(r.xE))})})]})]})}),(0,Z.jsx)("br",{}),(0,Z.jsx)(R.RQ,{animate:!0,level:3,corners:4,layer:"primary",children:(0,Z.jsxs)("div",{className:"flex flex-col justify-between flex-1 rewards rounded-3xl flex flex-col gap-3 p-2 md:p-4 pt-4 rounded-[16px]  shadow-md ",children:[(0,Z.jsxs)("div",{className:"flex flex-row mb-3",children:[(0,Z.jsx)("div",{className:"self-start text-lg font-bold md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Rewards\ud83c\udf1f"))}),(0,Z.jsx)(d.Z,{className:"!bg-dark-800 !shadow-xl p-2",text:"You may notice some tokens called NLP. Each NLP is different and represents a pair. For example: NEXU/WXRP, NEXU/NEXUS & NEXU/Nexus. Go to Pool > Browse to visualize it."})]}),(0,Z.jsxs)("div",{className:"grid h-full grid-cols-2",children:[(0,Z.jsxs)("div",{className:"ml-2 mr-2 border-r",children:[(0,Z.jsx)("div",{className:"self-end text-sm md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Claimed"))}),(0,Z.jsx)("div",{className:"flex flex-col",children:Ae.map(((e,t)=>(0,Z.jsx)("p",{children:"".concat(e.token.symbol,": ").concat(e.amount?e.amount.toSignificant(3):"")},"user-rewardinfo-".concat(t))))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:"self-end text-sm md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Pending"))}),(0,Z.jsx)("div",{className:"flex flex-col",children:Se.map(((e,t)=>(0,Z.jsx)("p",{children:"".concat(e.token.symbol,": ").concat(e.amount?e.amount.toSignificant(3):"")},"user-rewardinfo-".concat(t))))})]})]}),(0,Z.jsx)(l.ZP,{className:"mt-1",fullWidth:!0,color:"gradient",onClick:async()=>{if(D){Ne(!0);if(!(await I((()=>fe()))))return void Ne(!1);Ne(!1)}},disabled:!Se||0===(null===Se||void 0===Se?void 0:Se.length),children:i.ag._(i.ag._("HARNESS"))})]})})]})]}),(0,Z.jsx)(L.S.Controlled,{isOpen:Oe,onDismiss:()=>Ce(!1),maxWidth:"md",children:(0,Z.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Z.jsx)(L.S.Header,{header:i.ag._(i.ag._("Confirm")),onClose:()=>Ce(!1)}),(0,Z.jsxs)(L.S.BorderedContent,{className:"flex flex-col gap-3 !border-yellow/40  border-0",children:[(0,Z.jsx)(X.Z,{variant:"lg",weight:700,className:"text-white ",children:i.ag._(i.ag._("Warning you are about to break your time lock!"))}),(0,Z.jsxs)(X.Z,{variant:"sm",weight:700,className:"text-red",children:[i.ag._(i.ag._("You will lose:")),"   ",null===le||void 0===le||null===(t=le.divide(2))||void 0===t?void 0:t.toSignificant(5),"  "," NEXU"]})]}),(0,Z.jsx)(l.ZP,{id:"confirm-expert-mode",color:"red",variant:"filled",onClick:()=>{(async()=>{if(D&&me){Ne(!0);const e=a.O$.from(null===le||void 0===le?void 0:le.quotient.toString());if(!(await I((()=>xe(e)))))return void Ne(!1);Ne(!1),Ce(!1)}})()},children:i.ag._(i.ag._("Break Lock"))})]})})]})};var B=n(42144);const K=async e=>{let t=!0;try{const n=await e();null!==n&&void 0!==n&&n.error&&(t=!1)}catch(n){console.error(n),t=!1}return t},Q=()=>{const{account:e}=(0,f.a)(),t=u.UT,n=(0,T.mM)(null!==e&&void 0!==e?e:void 0,t),o=E(),{lockedProAmount:a,lockMode:s,lockXOracle:c,unlockTime:d}=S(),g=A(),b=(0,N.useMemo)((()=>s>0&&((!a||!a.equalTo(r.xE))&&(!g||!a||g.subtract(a).greaterThan(r.xE)))),[g,a,s]),{walletNFT:w,stakedNFT:P}=function(){var e,t;const{account:n,chainId:i}=(0,f.a)(),r=(0,j.hX)(),l=(0,N.useMemo)((()=>{if(n)return[String(n)]}),[n]),o=null===(e=(0,v.Wk)(l?r:null,"userStakedNFT",l))||void 0===e?void 0:e.result,a=null===o||void 0===o?void 0:o[0],s=null===(t=(0,v.Wk)(l?r:null,"userWalletNFT",l))||void 0===t?void 0:t.result,c=null===s||void 0===s?void 0:s[0],{0:d,1:u}=(0,N.useState)([]),{0:m,1:h}=(0,N.useState)([]),x=(0,N.useCallback)((async()=>{if(!c)return[];const e=c.map((e=>e.toNumber()));let t=[],n=[];return e.forEach((e=>{t.push(y(e))})),t.length&&(await Promise.allSettled(t)).forEach((e=>{if("fulfilled"!==e.status)return;const t=e.value;t&&t&&n.push(t)})),u(n),n}),[c]),p=(0,N.useCallback)((async()=>{if(!a)return[];const e=a.map((e=>e.toNumber()));let t=[],n=[];return e.forEach((e=>{t.push(y(e))})),t.length&&(await Promise.allSettled(t)).forEach((e=>{if("fulfilled"!==e.status)return;const t=e.value;t&&t&&n.push(t)})),h(n),n}),[a]);return(0,N.useEffect)((()=>{c&&c.length>0?x():0===(null===c||void 0===c?void 0:c.length)&&u([])}),[x,c]),(0,N.useEffect)((()=>{a&&a.length>0?p():0===(null===a||void 0===a?void 0:a.length)&&h([])}),[p,a]),{walletNFT:d,stakedNFT:m}}(),_=function(){var e,t;const{account:n}=(0,f.a)(),i=(0,j.hX)(),r=(0,N.useMemo)((()=>{if(n)return[String(n)]}),[n]),l=null===(e=(0,v.Wk)(r?i:null,"userStakedNFT",r))||void 0===e?void 0:e.result,o=null===l||void 0===l?void 0:l[0],a=null===(t=(0,v.Wk)(r?i:null,"userWalletNFT",r))||void 0===t?void 0:t.result,s=null===a||void 0===a?void 0:a[0],c=(0,j.wp)(),d=(0,N.useMemo)((()=>{if(o&&s)return[...o,...s].map((e=>[String(e.toNumber())]))}),[o,s]),u=(0,v.es)(d?c:null,"nexusNFTWeight",d);return(0,N.useMemo)((()=>{if(!u)return{};let e={};return u.map(((t,n)=>{var i;return e[d[n][0]]=(null===(i=t.result)||void 0===i?void 0:i[0].toNumber())||0})),e}),[d,u])}(),{0:O,1:C}=(0,N.useState)([]),{0:U,1:F}=(0,N.useState)(0),{0:M,1:R}=(0,N.useState)([]),[I,D]=(0,x.qL)(null===o||void 0===o?void 0:o.multiply(O.length),m.Ej),Q=o?null!==n&&void 0!==n&&n.lessThan(null===o||void 0===o?void 0:o.multiply(O.length))&&s>0?"Insufficient Nexus balance":b?"Low Prophet Staked":void 0:"Invalid Nexus",q=!Q,{oracleNFTStake:z,oracleNFTWithdraw:V,oracleMultiNFTStake:G,oracleMultiNFTWithdraw:Y}=k(),H=e=>{if(e){let e=[];w.map((t=>{e.length<=40&&e.push(t.edition)})),C(e)}else C([])},J=e=>{if(e){let e=[];P.map((t=>{e.length<=40&&e.push(t.edition)})),R(e)}else R([])},{0:$,1:ee}=(0,N.useState)(!1),te=(0,N.useMemo)((()=>M&&M.length>0&&o&&c?o.multiply(M.length).greaterThan(c)?c.divide(2):o.multiply(M.length).divide(2):c),[M,o,c]),{approveAll:ne,approveStaker:ie}=function(){const e=(0,j.lm)(),t=(0,p.h7)();return{approveAll:(0,N.useCallback)((async()=>{try{const n=await(null===e||void 0===e?void 0:e.setApprovalForAll(m.Ej,!0));return t(n,{summary:"Approve All Nexus NFTs For Multistaking"})}catch(n){return n}}),[t,e]),approveStaker:(0,N.useCallback)((async n=>{try{const i=await(null===e||void 0===e?void 0:e.approve(m.Ej,n));return t(i,{summary:"Approve Nexus NFT For Multistaking"})}catch(i){return i}}),[t,e])}}(),re=function(){var e;const{account:t,chainId:n}=(0,f.a)(),i=(0,j.lm)(),r=(0,N.useMemo)((()=>{if(t)return[String(t),m.Ej]}),[t]),l=null===(e=(0,v.Wk)(r?i:null,"isApprovedForAll",r))||void 0===e?void 0:e.result;return null===l||void 0===l?void 0:l[0]}();var le=Date.now();const oe=(0,N.useMemo)((()=>!(s>0&&null!==a&&void 0!==a&&a.greaterThan(r.xE)&&d)||!(1e3*d>le)),[le,d,s,a]),{0:ae,1:se}=(0,N.useState)(!1);return(0,Z.jsxs)("div",{className:"mt-5 select-oracles",children:[(0,Z.jsx)("div",{className:"self-end text-2xl md:text-2xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Select Your Nexus NFTs"))}),(0,Z.jsx)("p",{className:"mb-2",children:"Select The Nexus you would like to deploy. Some Nexus NFTs wield more power than others, choose wisely! Each Nexus NFT selected must be paired with NEXU. Tap to select or select max 40 at a time."}),(0,Z.jsx)("button",{onClick:()=>{H(!0)},className:"inline-block px-2 py-1 mr-2 text-xs text-white rounded-md bg-blue/50",children:"SELECT MAX"}),(0,Z.jsx)("button",{onClick:()=>{H(!1)},className:"inline-block px-2 py-1 text-xs text-white rounded-md bg-blue/50",children:"UNSELECT ALL"}),(0,Z.jsx)("div",{className:"flex flex-wrap justify-between mt-5 items-wrapper",children:w.map((e=>(0,Z.jsxs)("div",{className:"item p-4 mb-5 sm:mb-0 w-full sm:w-[calc(50%-20px)] md:w-[calc(25%-20px)] rounded-md border-[5px] border-solid ".concat(O.includes(e.edition)?"border-blue-500":"border-blue-500/0"),onClick:()=>{(e=>{let t=[...O];if(O.includes(e)){let n=t.indexOf(e);n>-1&&O.splice(n,1),C(O),F(Date.now())}else{if(t.push(e),t.length>=50)return;C(t)}})(e.edition)},children:[(0,Z.jsxs)("div",{className:"flex flex-col pb-1 text-xs",children:[(0,Z.jsx)("p",{children:e.name}),(0,Z.jsxs)("p",{children:["Weight: ",Object.values(_).length>0?_[e.edition]:""]})]}),(0,Z.jsx)("img",{crossOrigin:"anonymous",referrerPolicy:"origin",className:"object-cover object-center w-full",src:"https://ethereals.fra1.cdn.digitaloceanspaces.com/images/".concat(e.edition,".jpeg"),alt:"oracle"})]},e.edition)))}),(0,Z.jsxs)("div",{className:"grid justify-center grid-cols-1 sm:flex",children:[(0,Z.jsxs)("div",{className:(0,h.AK)("flex justify-between py-2 px-3 w-content"),children:[(0,Z.jsxs)("div",{className:"flex items-center gap-1.5 mr-1",children:[(0,Z.jsx)(B.o,{width:16,height:14,className:(0,h.AK)(n?"text-high-emphesis":"text-low-emphesis")}),(0,Z.jsx)(X.Z,{variant:"sm",className:(0,h.AK)(n?"text-high-emphesis":"text-low-emphesis"),children:i.ag._(i.ag._("Balance:"))})]}),(0,Z.jsx)(X.Z,{variant:"sm",weight:700,className:(0,h.AK)(n?"text-high-emphesis":"text-low-emphesis","truncate"),id:"xoracle approve",children:n?"".concat(n.toSignificant(6)," ").concat(n.currency.symbol):"0.0000"})]}),(0,Z.jsxs)("div",{className:(0,h.AK)("flex justify-between py-2 px-3 w-content"),children:[(0,Z.jsx)("div",{className:"flex items-center gap-1.5 mr-1",children:(0,Z.jsx)(X.Z,{variant:"sm",className:(0,h.AK)(o?"text-high-emphesis":"text-low-emphesis"),children:i.ag._(i.ag._("Min NEXU Amount/NFT:"))})}),(0,Z.jsx)(X.Z,{variant:"sm",weight:700,className:(0,h.AK)(o?"text-high-emphesis":"text-low-emphesis","truncate"),id:"xoracle approve",children:o?"".concat(o.toSignificant(6)," ").concat(o.currency.symbol):"0.0000"})]}),(0,Z.jsxs)("div",{className:(0,h.AK)("flex justify-between py-2 px-3 w-content"),children:[(0,Z.jsx)("div",{className:"flex items-center gap-1.5 mr-1",children:(0,Z.jsx)(X.Z,{variant:"sm",className:(0,h.AK)(g?"text-high-emphesis":"text-low-emphesis"),children:i.ag._(i.ag._("Min NEXU Lock Amount:"))})}),(0,Z.jsxs)(X.Z,{variant:"sm",weight:700,className:(0,h.AK)(g?"text-high-emphesis":"text-low-emphesis","truncate"),id:"xoracle approve",children:[g?"".concat(g.toSignificant(6)," ").concat(g.currency.symbol):"0.0000"," + 1%"]})]})]}),(0,Z.jsx)("div",{className:"grid justify-center grid-cols-1 sm:flex",children:(0,Z.jsxs)("div",{className:(0,h.AK)("flex justify-between py-2 px-3 w-content"),children:[(0,Z.jsx)("div",{className:"flex items-center gap-1.5 mr-1",children:(0,Z.jsx)(X.Z,{variant:"sm",className:"text-white",children:i.ag._(i.ag._("Total NEXU Required For NFT Multiplier:"))})}),(0,Z.jsx)(X.Z,{variant:"sm",weight:700,className:(0,h.AK)(o?"text-high-emphesis":"text-low-emphesis","truncate"),id:"xoracle approve",children:o&&s>0?"".concat(o.multiply(O.length).toSignificant(6)," ").concat(o.currency.symbol):"0 xORACLE"})]})}),(0,Z.jsx)("div",{className:"flex justify-center mt-4 mb-6",children:e?q&&s>0&&(I===x.UK.NOT_APPROVED||I===x.UK.PENDING)?(0,Z.jsx)(l.ZP,{fullWidth:!0,loading:I===x.UK.PENDING,color:"gradient",onClick:D,disabled:I!==x.UK.NOT_APPROVED,children:i.ag._(i.ag._("Approve xORACLE"))}):re?(0,Z.jsx)(l.ZP,{fullWidth:!0,color:0===(null===O||void 0===O?void 0:O.length)?"red":"blue",onClick:async()=>{if(e&&0!==(null===O||void 0===O?void 0:O.length)){ee(!0);if(!(await K((()=>G(O)))))return void ee(!1);ee(!1)}},disabled:$||!e||0===(null===O||void 0===O?void 0:O.length)||!q,children:Q||i.ag._(i.ag._("Stake NFT"))}):(0,Z.jsx)(l.ZP,{fullWidth:!0,color:"blue",onClick:async()=>{if(e&&0!==(null===O||void 0===O?void 0:O.length)){ee(!0);if(!(await K((()=>ne()))))return void ee(!1);ee(!1)}},disabled:$||!e||0===(null===O||void 0===O?void 0:O.length),children:i.ag._(i.ag._("Approve NEXUS NFT"))}):(0,Z.jsx)(W.Z,{size:"lg",color:"blue",fullWidth:!0})}),(null===P||void 0===P?void 0:P.length)>0&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:"self-end text-2xl md:text-2xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Select Your Staked Nexus NFTs"))}),(0,Z.jsx)("button",{onClick:()=>{J(!0)},className:"inline-block px-2 py-1 mr-2 text-xs text-white rounded-md bg-blue/50",children:"SELECT MAX"}),(0,Z.jsx)("button",{onClick:()=>{J(!1)},className:"inline-block px-2 py-1 text-xs text-white rounded-md bg-blue/50",children:"UNSELECT ALL"}),(0,Z.jsx)("div",{className:"flex flex-wrap justify-between mt-5 items-wrapper",children:P.map((e=>(0,Z.jsxs)("div",{className:"item p-4 mb-5 sm:mb-0 w-full sm:w-[calc(50%-20px)] md:w-[calc(25%-20px)] rounded-md border-[5px] border-solid ".concat(0!==M.length&&M.includes(e.edition)?"border-blue-500":"border-blue-500/0"),onClick:()=>{(e=>{let t=[...M];if(M.includes(e)){let n=t.indexOf(e);n>-1&&M.splice(n,1),R(M),F(Date.now())}else{if(t.push(e),t.length>=50)return;R(t)}})(e.edition)},children:[(0,Z.jsxs)("div",{className:"flex flex-col pb-1 text-xs",children:[(0,Z.jsx)("p",{children:e.name}),(0,Z.jsxs)("p",{children:["Weight: ",Object.values(_).length>0?_[e.edition]:""]})]}),(0,Z.jsx)("img",{crossOrigin:"anonymous",referrerPolicy:"origin",src:"https://ethereals.fra1.cdn.digitaloceanspaces.com/images/".concat(e.edition,".jpeg"),alt:"oracle"})]},e.edition)))}),(0,Z.jsx)("div",{className:"flex justify-center mt-4",children:(0,Z.jsx)(l.ZP,{fullWidth:!0,color:0===M.length?"red":"blue",onClick:async()=>{if(e&&0!==(null===M||void 0===M?void 0:M.length))if(oe){ee(!0);if(!(await K((()=>Y(M)))))return void ee(!1);ee(!1)}else se(!0)},disabled:$||!e||0===M.length,children:i.ag._(i.ag._("Unstake NFT"))})})]}),(0,Z.jsx)(L.S.Controlled,{isOpen:ae,onDismiss:()=>se(!1),maxWidth:"md",children:(0,Z.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Z.jsx)(L.S.Header,{header:i.ag._(i.ag._("Confirm")),onClose:()=>se(!1)}),(0,Z.jsxs)(L.S.BorderedContent,{className:"flex flex-col gap-3 !border-yellow/40  border-0",children:[(0,Z.jsx)(X.Z,{variant:"lg",weight:700,className:"text-white ",children:i.ag._(i.ag._("Warning you are about to break your time lock!"))}),(0,Z.jsxs)(X.Z,{variant:"sm",weight:700,className:"text-red",children:[i.ag._(i.ag._("You will lose:")),"  ",null===te||void 0===te?void 0:te.toSignificant(5),"  "," NEXU"]})]}),(0,Z.jsx)(l.ZP,{id:"confirm-expert-mode",color:"red",variant:"filled",onClick:()=>{(async()=>{if(e&&0!==(null===M||void 0===M?void 0:M.length)){if(ee(!0),!(await K((()=>Y(M)))))return void ee(!1);ee(!1),se(!1)}})()},children:i.ag._(i.ag._("Break Lock"))})]})})]})};var q=n(38239),z=n(87433),V=n(55168),G=n(90849),Y=n(9008),H=n(90415);const J="flex justify-center items-center h-full w-full rounded-lg cursor-pointer text-sm md:text-base",$=("".concat(J," text-high-emphesis font-bold bg-dark-900"),"".concat(J," text-secondary"),"flex justify-center items-center w-full h-14 rounded font-bold md:font-medium md:text-lg mt-5 text-sm focus:outline-none focus:ring"),ee="".concat($," text-high-emphesis bg-gradient-to-r from-pink-red to-light-brown hover:opacity-90"),te=("".concat(ee," opacity-60"),"".concat($," text-secondary bg-dark-700"),"".concat($," text-high-emphesis bg-blue hover:bg-opacity-90"),async e=>{let t=!0;try{const n=await e();null!==n&&void 0!==n&&n.error&&(t=!1)}catch(n){console.error(n),t=!1}return t});function ne(){const{totalProAmount:e,totalxOracleAmount:t,totalPoolSize:n,totalNFTCount:a}=function(){var e;const t=(0,j.hX)(),n=null===(e=(0,v.Wk)(t,"getGlobalStatus"))||void 0===e?void 0:e.result,i=null===n||void 0===n?void 0:n.poolSize,l=null===n||void 0===n?void 0:n.nexusAmount,o=null===n||void 0===n?void 0:n.nftCount,a=o?o.toNumber():void 0,s=null===n||void 0===n?void 0:n.NexusCollateralAmount,c=i?r.QA.BigInt(i.toString()):void 0,d=c?r.ih.fromRawAmount(u.bc,c):void 0,m=l?r.QA.BigInt(l.toString()):void 0,h=m?r.ih.fromRawAmount(u.bc,m):void 0,x=s?r.QA.BigInt(s.toString()):void 0;return{totalProAmount:h,totalxOracleAmount:x?r.ih.fromRawAmount(u.UT,x):void 0,totalPoolSize:d,totalNFTCount:a}}(),s=function(){var e;const t=(0,j.hX)(),n=null===(e=(0,v.Wk)(t,"distributedTotalReward"))||void 0===e?void 0:e.result,i=null===n||void 0===n?void 0:n.rewards,l=(0,w.e_)();return(0,N.useMemo)((()=>{if(!i)return[];let e=[];return i.map((t=>{const n=new r.WU(r.a_.XRPL,t.token,18,"NLP","NEXUSSwap LP Token");let i=l[t.token]||n;"0x0000000000000000000000000000000000000000"==t.token&&(i=new r.WU(r.a_.XRPL,t.token,18,"XRP","XRP"));const o=t.amount?r.QA.BigInt(t.amount.toString()):void 0,a=i&&o?r.ih.fromRawAmount(i,o):void 0;e.push({token:i,amount:a})})),e}),[i,l])}(),c=(0,G.JY)(),{distribute:m}=((0,G.gu)(),(0,G.JO)(),(()=>{const e=(0,p.h7)(),t=(0,j._e)();return{distribute:(0,N.useCallback)((async()=>{try{const n=await(null===t||void 0===t?void 0:t.distribute());return e(n,{summary:"Distribute To MultiStaking"})}catch(n){return n}}),[e,t])}})()),x=function(){var e;const t=(0,j._e)(),n=null===(e=(0,v.Wk)(t,"possibleDistribute"))||void 0===e?void 0:e.result;return null===n||void 0===n?void 0:n[0]}(),{0:g,1:b}=(0,N.useState)(!1),{account:y,chainId:k}=(0,f.a)(),S=(0,T.mM)(null!==y&&void 0!==y?y:void 0,u.bc),A=(0,V.oy)(),[E,P,_,O,U]=(0,V.zt)(),F=!!y,L=(0,G.mq)(),{convert:M}=(0,V.ZP)();return(0,Z.jsxs)(o.Z,{id:"staking-page",className:"py-4 md:py-8 lg:py-12",maxWidth:"5xl",children:[(0,Z.jsxs)(Y.default,{children:[(0,Z.jsx)("title",{children:"NEXUS Swap | Staking"},"title"),(0,Z.jsx)("meta",{name:"description",content:"ProStaking"},"description"),(0,Z.jsx)("meta",{name:"twitter:url",content:"https://dex.thenexusportal.io/stake"},"twitter:url"),(0,Z.jsx)("meta",{name:"twitter:title",content:"STAKE NEXUS"},"twitter:title"),(0,Z.jsx)("meta",{name:"twitter:description",content:"ProStaking"},"twitter:description"),(0,Z.jsx)("meta",{property:"og:title",content:"STAKE NEXUS"},"og:title"),(0,Z.jsx)("meta",{property:"og:description",content:"ProStaking"},"og:description")]}),(0,Z.jsx)("div",{className:"flex flex-col w-full min-h-full",children:(0,Z.jsxs)("div",{className:(0,h.AK)("",c&&"mt-5"),children:[(0,Z.jsx)("div",{className:"flex flex-wrap top-area",children:(0,Z.jsxs)("div",{className:"w-full md:w-[calc(100%-300px)] md:pr-4",children:[(0,Z.jsx)("div",{className:"self-end text-lg font-bold md:text-2xl text-high-emphesis md:mb-3",children:i.ag._(i.ag._("\ud83c\udf0cNexus NFT Multi-Staking"))}),(0,Z.jsxs)("div",{className:"mb-4 text-sm font-normal content md:text-base",children:[(0,Z.jsx)("p",{children:"Stake NEXU, THE NEXUS NFTs, & Nexus to harvest the rewards generated by the NEXU Factory, NEXU Diffuser. This staking system distributes a variety of tokens and token pairs. Some tokens are NEXU, Nexus NLPs and more. Main examples of NLPs are NEXU pairs like NEXU/WBTC, NEXU/USDT. NLPs from future pairs with NEXU will be distributed here."}),(0,Z.jsx)("a",{href:"https://docs.thenexusportal.io/",target:"_blank",rel:"noreferrer",children:(0,Z.jsx)("span",{className:"text-lg font-bold md:text-xl text-blue",children:" LEARN MORE "})}),(0,Z.jsx)("div",{className:"self-end text-lg font-bold md:text-2xl text-high-emphesis md:mb-3",children:i.ag._(i.ag._("Parameters\ud83d\udcdc"))}),(0,Z.jsx)("div",{className:"mb-4 text-sm font-normal content md:text-base",children:(0,Z.jsxs)("p",{children:["-Stake just NEXU with or without a timelock. The timelock multiplies your NEXU Power giving you a larger share of the pool.",(0,Z.jsx)("br",{}),"-To add NEXU NFTs you must stake the minimum amount of NEXU one time and you must also stake the minimum NEXU amount per NFT.",(0,Z.jsx)("br",{}),"-Consequences for breaking the spacetime barrier: Forfeit 50% of your locked NEXU. Half of this NEXU gets sent to the void. Half goes back to the Loyal Stakers.",(0,Z.jsx)("br",{}),"-If you are not yet wise, it is recommended to experiment with the system using negligible amounts of tokens before going all In.",(0,Z.jsx)("br",{}),"-Your Pool Share percentage will change as other Nexus travellers move in and out of the pool."]})})]})]})}),(0,Z.jsxs)("div",{className:"flex flex-wrap gap-4 top-area",children:[(0,Z.jsx)("div",{className:"w-full md:w-[300px]  md:mt-0",children:(0,Z.jsx)(R.RQ,{animate:!0,level:3,corners:4,layer:"primary",children:(0,Z.jsx)("div",{className:"flex flex-col gap-3 p-2 md:p-4 pt-4 rounded-[16px]  bg-opacity-25 shadow-md ",children:(0,Z.jsx)("div",{className:"flex flex-col flex-grow w-full rounded",children:(0,Z.jsxs)("div",{className:"flex flex-col flex-wrap",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("img",{src:C.Z.src,alt:"Nexus sign",width:"150px",height:"100%",className:"object-center mx-auto"})}),(0,Z.jsxs)("div",{className:"flex flex-row mb-3",children:[(0,Z.jsx)("p",{className:"text-lg font-bold md:text-2xl md:font-medium text-high-emphesis",children:i.ag._(i.ag._("Nexus Diffuser"))}),(0,Z.jsx)(d.Z,{className:"!bg-dark-800 !shadow-xl p-2",text:"BE AWARE OF GAS SPENDING WHEN CALLING THE DIST/BURN! The Nexus Diffuser receives DEX swap fees from the feeToo address of the NexusFactory Contract. 70% is burnt."})]}),(0,Z.jsxs)("div",{className:"flex flex-col flex-grow text-base md:mb-3",children:[(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{children:"\ud83d\ude00"})," NLP Available:"," ",(0,Z.jsx)("span",{className:(0,h.AK)(A?"text-green":"text-red"),children:A?"Yes":"No"})]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{children:"\ud83d\udd25 "})," Nexus Burned: ",(0,Z.jsx)("span",{children:null===E||void 0===E?void 0:E.toSignificant(6)})]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{children:"\ud83d\udd25"})," Nexus Burned: ",(0,Z.jsx)("span",{children:null===_||void 0===_?void 0:_.toSignificant(6)})]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{children:"\ud83c\udf2d"})," Nexus MultiStaking: ",(0,Z.jsx)("span",{children:null===O||void 0===O?void 0:O.toSignificant(6)})]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{children:"\ud83c\udfe6"})," Nexus Treasury: ",(0,Z.jsx)("span",{children:null===P||void 0===P?void 0:P.toSignificant(6)})]}),(null===S||void 0===S?void 0:S.equalTo(r.xE))&&(0,Z.jsx)("div",{className:"mt-2 text-base text-red",children:"Your nexus balance is zero, so you cannot dist/burn nlp"}),(0,Z.jsx)("div",{className:"flex justify-center mt-4",children:(0,Z.jsx)(l.ZP,{color:"gradient",size:"sm",variant:"filled",disabled:g||!y||!A||(null===S||void 0===S?void 0:S.equalTo(r.xE)),onClick:async()=>{if(F){b(!0);if(!(await te((()=>M()))))return void b(!1);b(!1)}else L()},className:"inline-flex items-center px-8 font-bold text-white rounded-full cursor-pointer bg-gradient-to-r from-blue to-green",children:"DIFFUSE"})})]})]})})})})}),(0,Z.jsx)(R.RQ,{animate:!0,level:3,corners:4,layer:"primary",className:"flex flex-1 w-full",children:(0,Z.jsxs)("div",{className:" flex-1 flex gap-3 p-2 md:p-4 pt-4 rounded-[16px]  bg-opacity-25 shadow-md ",children:[(0,Z.jsxs)("div",{className:"w-full sm:w-1/2 md:pt-10",children:[(0,Z.jsx)("div",{className:"self-end text-lg font-bold md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Global Stats\ud83c\udf0e"))}),(0,Z.jsx)("p",{children:"Current Global Pool Size:  ".concat(n?n.toSignificant(6):"")}),(0,Z.jsx)("p",{children:"Total NEXUS Locked:  ".concat(e?e.toSignificant(6):"")}),(0,Z.jsx)("p",{children:"Total NEXUS NFTs Locked:  ".concat(a||"")}),(0,Z.jsx)("p",{children:"Total NEXUS Collatoral Locked:  ".concat(t?t.toSignificant(6):"")}),(0,Z.jsx)(l.ZP,{size:"sm",className:"mt-3",color:"blue",onClick:async()=>{if(y){b(!0);if(!(await te((()=>m()))))return void b(!1);b(!1)}},disabled:g||!x,children:"Distribute"}),(0,Z.jsx)(H.default,{})]}),(0,Z.jsxs)("div",{className:"w-full mt-5 sm:w-1/2 sm:mt-0 md:pt-10",children:[(0,Z.jsx)("div",{className:"self-end text-lg font-bold md:text-xl text-high-emphesis md:mb-1",children:i.ag._(i.ag._("Distributed"))}),s.map(((e,t)=>(0,Z.jsx)("p",{children:"".concat(e.token.symbol,": ").concat(e.amount?e.amount.toSignificant(6):"")},"rewardinfo-".concat(t))))]})]})})]}),(0,Z.jsx)(D,{totalPoolSize:n}),(0,Z.jsx)(Q,{})]})})]})}ne.Guard=(0,z.Z)(q.L.VESTING);var ie=ne},30911:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/multistaking",function(){return n(82060)}])},13155:function(e,t){"use strict";t.Z={src:"/_next/static/media/NEXUS2.19026ae0.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEUBjftfyP4al/8mvtUUlPoNl/xx1P0Vhv+D3P9MaXEtyM1l+6Y00MUjv89e9KwAmuxF3L4GGXz4AAAAEXRSTlMtMBVxGiQiChAATSMfJkpPcGcEF7cAAAAJcEhZcwAALiMAAC4jAXilP3YAAAA5SURBVAiZBcGHAYAwDASxc+L2KcD+0yIhdWZLKK3bUrSt668NvM+cVBC1v3kLBs8+C0dBFQhpBC79PIkBmETxFyQAAAAASUVORK5CYII="}}},function(e){e.O(0,[3662,4885,7440,4221,6441,810,4283,1626,4259,134,7436,9774,2888,179],(function(){return t=30911,e(e.s=t);var t}));var t=e.O();_N_E=t}]);